{% extends "SitioBundle:Default:Base.html.twig" %}
{% block title %}Privacidad{% endblock %}
{% block stylesheets %}{% endblock %}
{% block javascripts %}{% endblock %}
{% block body %}

<script type="text/javascript">
    (function(){function $MPC_load(){window.$MPC_loaded !== true && (function(){var s = document.createElement("script");s.type = "text/javascript";s.async = true;s.src = document.location.protocol+"//secure.mlstatic.com/mptools/render.js";var x = document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s, x);window.$MPC_loaded = true;})();}window.$MPC_loaded !== true ? (window.attachEvent ?window.attachEvent('onload', $MPC_load) : window.addEventListener('load', $MPC_load, false)) : null;})();
</script>
    
<div class="container-fluid"> 
    <div class="row">
            <div class="col-lg-12 moveHeader visible-lg">
                <h1 class="text-right text-bold">Prueba Mercado Pago</h1>
            </div>
    </div>

    </br>   
    </br>  

<a href={{ variable_name }}>Pay</a>

<a href={{ variable_name }} name="MP-Checkout" class="blue-ArOn" mp-mode="popup" onreturn="execute_my_onreturn">Pagar</a>

<script type="text/javascript">
function execute_my_onreturn (json) {
    if (json.collection_status=='approved'){
        alert ('Pago acreditado');
    } else if(json.collection_status=='pending'){
        alert ('El usuario no completó el pago');
    } else if(json.collection_status=='in_process'){    
        alert ('El pago está siendo revisado');    
    } else if(json.collection_status=='rejected'){
        alert ('El pago fué rechazado, el usuario puede intentar nuevamente el pago');
    } else if(json.collection_status==null){
        alert ('El usuario no completó el proceso de pago, no se ha generado ningún pago');
    }
}
</script>

{% endblock body%}